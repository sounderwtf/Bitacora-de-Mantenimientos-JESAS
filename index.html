<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sistema de Bitácoras</title>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&display=swap" rel="stylesheet">
    <script src="https://unpkg.com/@tailwindcss/browser@latest"></script>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            background-color: #ffffff;
            display: flex;
            flex-direction: column;
            align-items: center;
            min-height: 100vh;
            position: relative;
        }

        h1 {
            color: #34495e;
            text-align: center;
            margin-top: 20px;
            font-size: 24px;
        }

        .menu-principal {
            display: flex;
            flex-direction: column;
            align-items: center;
            margin-bottom: 20px;
            width: 100%;
            padding: 0 10px;
        }

        .menu-principal button {
            padding: 14px 24px;
            font-size: 18px;
            margin: 8px 0;
            cursor: pointer;
            background-color: #b0e0e6;
            color: #2c3e50;
            border: none;
            border-radius: 12px;
            box-shadow: 0 2px 6px rgba(0, 0, 0, 0.15);
            text-align: center;
            transition: background-color 0.3s ease, transform 0.2s ease;
            font-weight: 500;
            width: 100%;
            max-width: 300px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .menu-principal button:hover {
            background-color: #87ceeb;
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        }

        .menu-principal button:nth-child(3) {
            background-color: #ffa500;
            color: #2c3e50;
        }

        .menu-principal button:nth-child(3):hover {
            background-color: #ff8c00;
        }

        .formulario-container {
            background-color: #FFFFFF;
            padding: 20px;
            border-radius: 12px;
            box-shadow: 0 2px 6px rgba(0, 0, 0, 0.1);
            margin-bottom: 20px;
            display: none;
            width: 95%;
            max-width: 600px;
        }

        label {
            display: block;
            margin-top: 15px;
            font-weight: bold;
            font-size: 16px;
            color: #7f8c8d;
        }

        input[type="text"], input[type="date"], textarea, select, input[type="number"] {
            width: 100%;
            padding: 12px;
            margin-top: 8px;
            margin-bottom: 20px;
            border: 1px solid #bdc3c7;
            border-radius: 6px;
            box-sizing: border-box;
            font-size: 16px;
            color: #2c3e50;
        }

        input[type="text"]:focus, input[type="date"]:focus, textarea:focus, select:focus, input[type="number"]:focus {
            border-color: #3498db;
            outline: none;
        }

        textarea {
            resize: vertical;
            min-height: 100px;
        }

        /* Estilo específico para el botón de limpiar, si no usa custom-button */
        /*
        button.limpiar-button {
            background-color: #ccc;
            color: #2c3e50;
            margin-top: 5px;
        }

        button.limpiar-button:hover {
            background-color: #b3b3b3;
        }
        */


        #formulario-container {
            display: none; /* Initially hidden, managed by JS */
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            min-height: 100vh;
            align-items: center;
            justify-content: center;
            background-color: rgba(0, 0, 0, 0.5);
            z-index: 10;
        }

        #imagen-link-container {
            display: flex;
            align-items: center;
            justify-content: center;
            margin-top: 20px;
            margin-bottom: 20px;
            width: 100%;
        }

        #imagen-inferior {
            width: auto;
            height: 200px;
            opacity: 0.8;
            margin-right: 20px;
        }

        #link-empresa {
            text-decoration: none;
            color: #2c3e50;
            font-weight: bold;
            font-size: 18px;
        }

        #link-empresa:hover {
            color: #3498db;
        }

        .info-empresa {
            text-align: center;
            font-size: 14px;
            color: #555;
            margin-top: 10px;
        }

        .recordatorio-container {
            position: fixed;
            top: 20px;
            right: 20px;
            background-color: #fff;
            padding: 1rem;
            border-radius: 0.375rem;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            z-index: 10;
            border: 1px solid #f56565;
            color: #f56565;
            animation: fadeIn 1s ease-in-out, pulse 2s infinite alternate;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to   { opacity: 1; }
        }
        @keyframes pulse {
            from { transform: scale(1); }
            to   { transform: scale(1.05); }
        }

        /* Estilos de codigo2.html y para los nuevos botones */
        .custom-form-container {
            background-color: #f7fafc;
            border-radius: 0.5rem;
            padding: 2rem;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
            max-width: 800px;
            margin: 0 auto;
        }
        .custom-form-header {
            text-align: center;
            margin-bottom: 1.5rem;
        }
        .custom-form-title {
            font-size: 1.875rem;
            font-weight: 700;
            color: #1a202c;
            margin-bottom: 0.5rem;
        }
        .custom-form-description {
            font-size: 1rem;
            color: #4a5568;
        }
        .custom-form-group {
            margin-bottom: 1.25rem;
        }
        .custom-form-label {
            display: block;
            font-size: 0.875rem;
            font-weight: 600;
            color: #2d3748;
            margin-bottom: 0.25rem;
        }
        .custom-input, .custom-select {
            display: block;
            width: 100%;
            padding: 0.75rem;
            font-size: 1rem;
            border: 1px solid #e2e8f0;
            border-radius: 0.375rem;
            transition: border-color 0.15s ease-in-out, shadow-sm 0.15s ease-in-out;
            outline: none;
        }
        .custom-input:focus, .custom-select:focus {
            border-color: #3182ce;
            box-shadow: 0 0 0 3px rgba(66, 153, 225, 0.2);
        }
        .custom-input::placeholder {
            color: #a0aec0;
        }
        .custom-button {
            padding: 0.75rem 1.5rem;
            font-size: 1rem;
            font-weight: 600;
            border-radius: 0.375rem;
            color: white;
            background-color: #f56565; /* Color principal para enviar */
            transition: background-color 0.15s ease-in-out, transform 0.1s ease-in-out;
            cursor: pointer;
            border: none;
            display: block;
            width: 100%;
            text-align: center;
            margin-top: 1rem; /* Espacio superior para los botones */
        }
        .custom-button:hover {
            background-color: #c53030;
            transform: translateY(-1px);
        }
        .custom-button:disabled {
            background-color: #a0aec0;
            cursor: not-allowed;
            opacity: 0.7;
            transform: none;
        }
        /* Estilo específico para el botón de limpiar con custom-button */
        .custom-button.limpiar-button {
            background-color: #cbd5e0; /* Color gris claro para limpiar */
            color: #2d3748; /* Texto oscuro */
        }
        .custom-button.limpiar-button:hover {
            background-color: #a0aec0; /* Gris más oscuro al pasar el mouse */
        }
        /* Estilo específico para el botón de inicio con custom-button */
        .custom-button.home-button {
            background-color: #63b3ed; /* Un color azul para inicio */
            color: white;
        }
        .custom-button.home-button:hover {
            background-color: #4299e1;
        }

        /* Estilos específicos para la sección de maquinaria */
        #maquinariaForm {
            margin-top: 2rem;
        }

        /* Estilos para los campos de Camion Azul y Blanco */
        .camion-fields {
            display: none;
        }

        /* Estilos para los campos de las demás maquinarias */
        .otra-maquinaria-fields {
            display: none;
        }
    </style>
    <script>
        // Función para obtener los parámetros de la URL. (No se usa en este código, pero se mantiene)
        function getUrlVars() {
            let vars = {};
            let parts = window.location.href.replace(/[?&]+([^=&]+)=([^&]*)/gi, function(m, key, value) {
                vars[key] = value;
            });
            return vars;
        }

        // Función para enviar los datos del formulario a Google Forms.
        function enviarFormulario(formType) {
            let formUrl = "";
            let url = "";
            let fechaReporte, kilometraje, quienRealiza, tipoMantenimiento, descripcionMantenimiento, operador, notas, vehiculo;
            let fecha, horometro, tipoMantenimientoMaq, descripcionFalla, operadorMaq, notasMaq, tipoMaquinaria;
            let fechaRep, material, obra, noViajes, noVale, capacidad, chofer, banco, distancia, consumoLTKM, consumoTotal, combustible, saldoCombustible, maquinaRep;

            if (formType === "maquinaria") {
                formUrl = "https://docs.google.com/forms/d/e/1FAIpQLSdAhggfNXWh3k3D4FE8p__wyk-y0s6MO_VgS1yFp1YsDQttDQ/formResponse";
                fecha = document.getElementById("fecha").value;
                horometro = document.getElementById("horometro").value;
                quienRealiza = document.getElementById("quienRealiza").value;
                tipoMantenimientoMaq = document.getElementById("tipoMantenimiento").value;
                descripcionFalla = document.getElementById("descripcionFalla").value;
                operadorMaq = document.getElementById("operador").value;
                notasMaq = document.getElementById("notas").value;
                tipoMaquinaria = document.getElementById("tipoMaquinaria").value;
                url = `${formUrl}?entry.1188599395=${encodeURIComponent(fecha)}&entry.946574511=${encodeURIComponent(horometro)}&entry.2139075027=${encodeURIComponent(quienRealiza)}&entry.487496965=${encodeURIComponent(tipoMantenimientoMaq)}&entry.1655943125=${encodeURIComponent(descripcionFalla)}&entry.83392952=${encodeURIComponent(operadorMaq)}&entry.951124748=${encodeURIComponent(notasMaq)}&entry.104610242=${encodeURIComponent(tipoMaquinaria)}`;
            } else if (formType === "vehiculos") {
                formUrl = "https://docs.google.com/forms/d/e/1FAIpQLSeSEFeNVbsawAliFLoYj3oaXgfRjCJ3gq_H0yC8X9alCrBIDg/formResponse";
                fechaReporte = document.getElementById("fecha_reporte_vehiculo").value;
                kilometraje = document.getElementById("kilometraje").value;
                quienRealiza = document.getElementById("quienRealiza_vehiculo").value;
                tipoMantenimiento = document.getElementById("tipoMantenimiento_vehiculo").value;
                descripcionMantenimiento = document.getElementById("descripcionMantenimiento").value;
                operador = document.getElementById("operador_vehiculo").value;
                notas = document.getElementById("notas_vehiculo").value;
                vehiculo = document.getElementById("vehiculo").value;
                url = `${formUrl}?entry.1638048660=${encodeURIComponent(fechaReporte)}&entry.2133398980=${encodeURIComponent(kilometraje)}&entry.577390048=${encodeURIComponent(quienRealiza)}&entry.1752961413=${encodeURIComponent(tipoMantenimiento)}&entry.1174496201=${encodeURIComponent(descripcionMantenimiento)}&entry.1283041917=${encodeURIComponent(operador)}&entry.1784723540=${encodeURIComponent(notas)}&entry.1830403408=${encodeURIComponent(vehiculo)}`;
            } else if (formType === "reporte") {
                formUrl = "https://docs.google.com/forms/d/e/1FAIpQLSf-KP92rEzes-fIlAD46P3pP4uZa7N_dywVKicxK24RlWQd0Q/formResponse";

                const maquinaSeleccionada = document.getElementById('maquina').value;

                if (maquinaSeleccionada === 'camion_azul' || maquinaSeleccionada === 'camion_blanco') {
                    fechaRep = document.getElementById("fecha_camion").value;
                    material = document.getElementById("material").value;
                    obra = document.getElementById("obra_camion").value;
                    noViajes = document.getElementById("no_viajes").value;
                    noVale = document.getElementById("no_vale").value;
                    capacidad = document.getElementById("capacidad").value;
                    chofer = document.getElementById("chofer").value;
                    banco = document.getElementById("banco").value;
                    distancia = document.getElementById("distancia").value;
                    consumoLTKM = document.getElementById("consumo_lt_km").value;
                    combustible = document.getElementById("combustible").value;
                    saldoCombustible = document.getElementById("saldo_combustible").value;
                    maquinaRep = maquinaSeleccionada === 'camion_azul' ? 'CAMION AZUL' : 'CAMION BLANCO';

                    url = `${formUrl}?entry.1374104361=${encodeURIComponent(fechaRep)}&entry.1386567991=${encodeURIComponent(material)}&entry.779606912=${encodeURIComponent(obra)}&entry.1715069500=${encodeURIComponent(noViajes)}&entry.1534523501=${encodeURIComponent(noVale)}&entry.1615038838=${encodeURIComponent(capacidad)}&entry.796410296=${encodeURIComponent(chofer)}&entry.1635175379=${encodeURIComponent(banco)}&entry.1847012257=${encodeURIComponent(distancia)}&entry.362499978=${encodeURIComponent(consumoLTKM)}&entry.1650964098=${encodeURIComponent(combustible)}&entry.1025594978=${encodeURIComponent(saldoCombustible)}&entry.1860383735=${encodeURIComponent(maquinaRep)}`;

                } else {
                    fechaRep = document.getElementById("fecha_otra").value;
                    const horometroSalida = document.getElementById("horometro_salida").value;
                    const horometroRegreso = document.getElementById("horometro_regreso").value;
                    const horasTrabajadas = document.getElementById("horas_trabajadas").value;
                    obra = document.getElementById("obra_otra").value;
                    notas = document.getElementById("notas").value;
                    maquinaRep = '';

                    switch (maquinaSeleccionada) {
                        case 'moto_140h': maquinaRep = 'MOTO 140H'; break;
                        case 'moto_12g': maquinaRep = 'MOTO 12G'; break;
                        case 'retroexcavadora_580_super_n': maquinaRep = 'Retroexcavadora 580 SUPER N'; break;
                        case 'retroexcavadora_580_m': maquinaRep = 'Retroexcavadora 580 M'; break;
                        case 'retroexcavadora_cat_416d': maquinaRep = 'Retroexcavadora CAT 416D'; break;
                        case 'vibro_cat': maquinaRep = 'VIBRO CAT'; break;
                        case 'pipa_freightliner': maquinaRep = 'PIPA FREIGHTLINER'; break;
                        case 'pipa_kenworth': maquinaRep = 'PIPA KENWORTH'; break;
                        case 'pata_de_cabra_cp_553': maquinaRep = 'PATA DE CABRA CP-553'; break;
                        case 'bomba_achique_3': maquinaRep = 'BOMBA ACHIQUE 3\'\''; break;
                        default: maquinaRep = maquinaSeleccionada; break;
                    }

                    url = `${formUrl}?entry.1374104361=${encodeURIComponent(fechaRep)}&entry.779606912=${encodeURIComponent(obra)}&entry.1860383735=${encodeURIComponent(maquinaRep)}&entry.951124748=${encodeURIComponent(notas)}&entry.2133398980=${encodeURIComponent(horometroSalida)}&entry.577390048=${encodeURIComponent(horometroRegreso)}&entry.1752961413=${encodeURIComponent(horasTrabajadas)}`;
                }
            }

            fetch(url, {
                method: 'GET',
                mode: 'no-cors'
            })
            .then(response => {
                alert("¡Formulario enviado con éxito! (Verifica Google Sheet)");
                limpiarFormulario(formType);
                mostrarInicio();
            })
            .catch(error => {
                console.error("Error de red:", error);
                alert("Error de red. Por favor, verifica tu conexión a Internet.");
            });

            return false;
        }

        // Función para limpiar los campos del formulario.
        function limpiarFormulario(formType) {
            if (formType === "maquinaria") {
                document.getElementById("fecha").value = "";
                document.getElementById("horometro").value = "";
                document.getElementById("quienRealiza").value = "";
                document.getElementById("tipoMantenimiento").value = "";
                document.getElementById("descripcionFalla").value = "";
                document.getElementById("operador").value = "";
                document.getElementById("notas").value = "";
                document.getElementById("tipoMaquinaria").value = "";
            } else if (formType === "vehiculos") {
                document.getElementById("fecha_reporte_vehiculo").value = "";
                document.getElementById("kilometraje").value = "";
                document.getElementById("quienRealiza_vehiculo").value = "";
                document.getElementById("tipoMantenimiento_vehiculo").value = "";
                document.getElementById("descripcionMantenimiento").value = "";
                document.getElementById("operador_vehiculo").value = "";
                document.getElementById("notas_vehiculo").value = "";
                document.getElementById("vehiculo").value = "";
            } else if (formType === "reporte") {
                const maquinaSeleccionada = document.getElementById('maquina').value;

                if (maquinaSeleccionada === 'camion_azul' || maquinaSeleccionada === 'camion_blanco') {
                    document.getElementById("fecha_camion").value = "";
                    document.getElementById("material").value = "";
                    document.getElementById("obra_camion").value = "";
                    document.getElementById("no_viajes").value = "";
                    document.getElementById("no_vale").value = "";
                    document.getElementById("capacidad").value = "";
                    document.getElementById("chofer").value = "";
                    document.getElementById("banco").value = "";
                    document.getElementById("distancia").value = "";
                    document.getElementById("consumo_lt_km").value = "";
                    document.getElementById("combustible").value = "";
                    document.getElementById("saldo_combustible").value = "";
                } else if (maquinaSeleccionada) {
                    document.getElementById("fecha_otra").value = "";
                    document.getElementById("horometro_salida").value = "";
                    document.getElementById("horometro_regreso").value = "";
                    document.getElementById("horas_trabajadas").value = "";
                    document.getElementById("obra_otra").value = "";
                    document.getElementById("notas").value = "";
                }
                document.getElementById('maquina').value = "";
                // Es importante re-obtener los elementos para asegurar que existan en el DOM actual
                const camionFields = document.getElementById('campos_camion');
                const otraMaquinariaFields = document.getElementById('campos_otra_maquinaria');
                if (camionFields) camionFields.style.display = 'none';
                if (otraMaquinariaFields) otraMaquinariaFields.style.display = 'none';
            }
        }

        // Función para mostrar un formulario específico.
        function mostrarFormulario(formType) {
            document.getElementById("formulario-container").style.display = "none";
            document.getElementById("menu-principal").style.display = "none";

            if (formType === "maquinaria") {
                document.getElementById("formulario-container").style.display = "flex";
                document.getElementById("formulario-container").innerHTML = `
                    <div class="custom-form-container">
                        <h2 class="custom-form-title">BITÁCORA DE MAQUINARIA</h2>
                        <form id="formulario-maquinaria" onsubmit="return enviarFormulario('maquinaria');">
                            <div class="custom-form-group">
                                <label for="fecha" class="custom-form-label">Fecha:</label>
                                <input type="date" id="fecha" name="fecha" class="custom-input" required>
                            </div>
                            <div class="custom-form-group">
                                <label for="tipoMaquinaria" class="custom-form-label">Tipo de Maquinaria:</label>
                                <select id="tipoMaquinaria" name="tipoMaquinaria" class="custom-select" required>
                                    <option value="">Seleccione una opción</option>
                                    <option value="VIBROCOMPACTADOR1 INGERSOLL SD100D C">VIBROCOMPACTADOR1 INGERSOLL SD100D C</option>
                                    <option value="RETROEXCAVADORA1 EXT 580M EXT">RETROEXCAVADORA1 EXT 580M EXT</option>
                                    <option value="CAMION 2 T600">CAMION 2 T600</option>
                                    <option value="PIPA1">PIPA1</option>
                                    <option value="CAMION3 T600B">CAMION3 T600B</option>
                                    <option value="RETROEXCAVADORA3 580SN">RETROEXCAVADORA3 580SN</option>
                                    <option value="MOTONIVELADORA 1 140H">MOTONIVELADORA 1 140H</option>
                                    <option value="MOTONIVELADORA 12G">MOTONIVELADORA 12G</option>
                                    <option value="VIBROCOMPACTADOR2 CATERPILLAR">VIBROCOMPACTADOR2 CATERPILLAR</option>
                                    <option value="PIPA2 T300">PIPA2 T300</option>
                                    <option value="COMPRESOR1">COMPRESOR1</option>
                                    <option value="COMPRESOR2">COMPRESOR2</option>
                                    <option value="COMPRESOR3">COMPRESOR3</option>
                                    <option value="DIRECCIONAL">DIRECCIONAL</option>
                                    <option value="PLATAFORMA">PLATAFORMA</option>
                                    <option value="TOPO">TOPO</option>
                                    <option value="PATA DE CABRA">PATA DE CABRA</option>
                                    <option value="RETROEXCAVADORA CAT 416D">RETROEXCAVADORA CAT 416D</option>
                                </select>
                            </div>
                            <div class="custom-form-group">
                                <label for="horometro" class="custom-form-label">Horómetro:</label>
                                <input type="text" id="horometro" name="horometro" class="custom-input" required>
                            </div>
                            <div class="custom-form-group">
                                <label for="quienRealiza" class="custom-form-label">Quién Realiza el Mantenimiento:</label>
                                <input type="text" id="quienRealiza" name="quienRealiza" class="custom-input" required>
                            </div>
                            <div class="custom-form-group">
                                <label for="tipoMantenimiento" class="custom-form-label">Tipo de Mantenimiento:</label>
                                <select id="tipoMantenimiento" name="tipoMantenimiento" class="custom-select" required>
                                    <option value="">Seleccione una opción</option>
                                    <option value="Preventivo">Preventivo</option>
                                    <option value="Correctivo">Correctivo</option>
                                </select>
                            </div>
                            <div class="custom-form-group">
                                <label for="descripcionFalla" class="custom-form-label">Descripción de la Falla:</label>
                                <textarea id="descripcionFalla" name="descripcionFalla" class="custom-input" rows="4" required></textarea>
                            </div>
                            <div class="custom-form-group">
                                <label for="operador" class="custom-form-label">Operador:</label>
                                <input type="text" id="operador" name="operador" class="custom-input" required>
                            </div>
                            <div class="custom-form-group">
                                <label for="notas" class="custom-form-label">Notas:</label>
                                <textarea id="notas" name="notas" class="custom-input" rows="4"></textarea>
                            </div>
                            <button type="submit" class="custom-button">Enviar Formulario</button>
                            <button type="button" class="custom-button limpiar-button" onclick="limpiarFormulario('maquinaria')">Limpiar Formulario</button>
                            <button type="button" class="custom-button home-button" onclick="mostrarInicio()">Página de Inicio</button>
                        </form>
                    </div>
                `;
            } else if (formType === "vehiculos") {
                document.getElementById("formulario-container").style.display = "flex";
                document.getElementById("formulario-container").innerHTML = `
                    <div class="custom-form-container">
                        <h2 class="custom-form-title">BITÁCORA DE VEHÍCULOS</h2>
                        <form id="formulario-vehiculos" onsubmit="return enviarFormulario('vehiculos');">
                            <div class="custom-form-group">
                                <label for="fecha_reporte_vehiculo" class="custom-form-label">Fecha de Reporte:</label>
                                <input type="date" id="fecha_reporte_vehiculo" name="fecha_reporte_vehiculo" class="custom-input" required>
                            </div>
                            <div class="custom-form-group">
                                <label for="vehiculo" class="custom-form-label">Vehículo:</label>
                                <select id="vehiculo" name="vehiculo" class="custom-select" required>
                                    <option value="">Seleccione una opción</option>
                                    <option value="RAV4 2018">RAV4 2018</option>
                                    <option value="YARIS 2016">YARIS 2016</option>
                                    <option value="AVEO 2018">AVEO 2018</option>
                                    <option value="FORD-150 2014">FORD-150 2014</option>
                                    <option value="HILUX 1 2018">HILUX 1 2018</option>
                                    <option value="HILUX 2 2018">HILUX 2 2018</option>
                                    <option value="HILUX 3 2018">HILUX 3 2018</option>
                                    <option value="HILUX 4 2018">HILUX 4 2018</option>
                                    <option value="NP 300 2018">NP 300 2018</option>
                                    <option value="RAM700 2018">RAM700 2018</option>
                                    <option value="RAV4 LIMITEDHV 2021">RAV4 LIMITEDHV 2021</option>
                                </select>
                            </div>
                            <div class="custom-form-group">
                                <label for="kilometraje" class="custom-form-label">Kilometraje:</label>
                                <input type="text" id="kilometraje" name="kilometraje" class="custom-input" required>
                            </div>
                            <div class="custom-form-group">
                                <label for="quienRealiza_vehiculo" class="custom-form-label">Quién Realiza el Mantenimiento:</label>
                                <input type="text" id="quienRealiza_vehiculo" name="quienRealiza_vehiculo" class="custom-input" required>
                            </div>
                            <div class="custom-form-group">
                                <label for="tipoMantenimiento_vehiculo" class="custom-form-label">Tipo de Mantenimiento:</label>
                                <select id="tipoMantenimiento_vehiculo" name="tipoMantenimiento_vehiculo" class="custom-select" required>
                                    <option value="">Seleccione una opción</option>
                                    <option value="Preventivo">Preventivo</option>
                                    <option value="Correctivo">Correctivo</option>
                                </select>
                            </div>
                            <div class="custom-form-group">
                                <label for="descripcionMantenimiento" class="custom-form-label">Descripción del Mantenimiento:</label>
                                <textarea id="descripcionMantenimiento" name="descripcionMantenimiento" class="custom-input" rows="4" required></textarea>
                            </div>
                            <div class="custom-form-group">
                                <label for="operador_vehiculo" class="custom-form-label">Operador:</label>
                                <input type="text" id="operador_vehiculo" name="operador_vehiculo" class="custom-input" required>
                            </div>
                            <div class="custom-form-group">
                                <label for="notas_vehiculo" class="custom-form-label">Notas:</label>
                                <textarea id="notas_vehiculo" name="notas_vehiculo" class="custom-input" rows="4"></textarea>
                            </div>
                            <button type="submit" class="custom-button">Enviar Formulario de Vehículos</button>
                            <button type="button" class="custom-button limpiar-button" onclick="limpiarFormulario('vehiculos')">Limpiar Formulario</button>
                            <button type="button" class="custom-button home-button" onclick="mostrarInicio()">Página de Inicio</button>
                        </form>
                    </div>
                `;
            } else if (formType === "reporte") {
                document.getElementById("formulario-container").style.display = "flex";
                document.getElementById("formulario-container").innerHTML = `
                    <div class="custom-form-container">
                        <header class="custom-form-header">
                            <h2 class="custom-form-title">Reporte de Actividades de Maquinaria</h2>
                            <p class="custom-form-description">Por favor, complete el siguiente formulario para registrar las actividades de la maquinaria.</p>
                        </header>
                        <form id="maquinariaForm" onsubmit="return enviarFormulario('reporte');" class="mt-8 space-y-6">
                            <div class="custom-form-group">
                                <label for="maquina" class="custom-form-label">Seleccione la Maquinaria:</label>
                                <select id="maquina" name="maquina" class="custom-select" required>
                                    <option value="">Seleccione...</option>
                                    <option value="camion_azul">Camión Azul</option>
                                    <option value="camion_blanco">Camión Blanco</option>
                                    <option value="moto_140h">MOTO 140H</option>
                                    <option value="moto_12g">MOTO 12G</option>
                                    <option value="retroexcavadora_580_super_n">RETROEXCAVADORA 580 SUPER N</option>
                                    <option value="retroexcavadora_580_m">RETROEXCAVADORA 580 M</option>
                                    <option value="retroexcavadora_cat_416d">RETROEXCAVADORA CAT 416D</option>
                                    <option value="vibro_cat">VIBRO CAT</option>
                                    <option value="pipa_freightliner">PIPA FREIGHTLINER</option>
                                    <option value="pipa_kenworth">PIPA KENWORTH</option>
                                    <option value="pata_de_cabra_cp_553">PATA DE CABRA CP-553</option>
                                    <option value="bomba_achique_3">BOMBA ACHIQUE 3''</option>
                                </select>
                            </div>

                            <div class="camion-fields" id="campos_camion">
                                <div class="custom-form-group">
                                    <label for="fecha_camion" class="custom-form-label">Fecha:</label>
                                    <input type="date" id="fecha_camion" name="fecha_camion" class="custom-input" required>
                                </div>
                                <div class="custom-form-group">
                                    <label for="material" class="custom-form-label">Material:</label>
                                    <input type="text" id="material" name="material" class="custom-input" required>
                                </div>
                                <div class="custom-form-group">
                                    <label for="obra_camion" class="custom-form-label">Obra:</label>
                                    <input type="text" id="obra_camion" name="obra_camion" class="custom-input" required>
                                </div>
                                <div class="custom-form-group">
                                    <label for="no_viajes" class="custom-form-label">No. de Viajes:</label>
                                    <input type="number" id="no_viajes" name="no_viajes" class="custom-input" required>
                                </div>
                                <div class="custom-form-group">
                                    <label for="no_vale" class="custom-form-label">No. de Vale:</label>
                                    <input type="text" id="no_vale" name="no_vale" class="custom-input" required>
                                </div>
                                <div class="custom-form-group">
                                    <label for="capacidad" class="custom-form-label">Capacidad:</label>
                                    <input type="text" id="capacidad" name="capacidad" class="custom-input" required>
                                </div>
                                <div class="custom-form-group">
                                    <label for="chofer" class="custom-form-label">Chofer:</label>
                                    <input type="text" id="chofer" name="chofer" class="custom-input" required>
                                </div>
                                <div class="custom-form-group">
                                    <label for="banco" class="custom-form-label">Banco:</label>
                                    <input type="text" id="banco" name="banco" class="custom-input" required>
                                </div>
                                <div class="custom-form-group">
                                    <label for="distancia" class="custom-form-label">Distancia:</label>
                                    <input type="text" id="distancia" name="distancia" class="custom-input" required>
                                </div>
                                <div class="custom-form-group">
                                    <label for="consumo_lt_km" class="custom-form-label">Consumo LT/KM:</label>
                                    <input type="text" id="consumo_lt_km" name="consumo_lt_km" class="custom-input" required>
                                </div>
                                <div class="custom-form-group">
                                    <label for="combustible" class="custom-form-label">Combustible:</label>
                                    <input type="text" id="combustible" name="combustible" class="custom-input" required>
                                </div>
                                <div class="custom-form-group">
                                    <label for="saldo_combustible" class="custom-form-label">Saldo de Combustible:</label>
                                    <input type="text" id="saldo_combustible" name="saldo_combustible" class="custom-input" required>
                                </div>
                            </div>

                            <div class="otra-maquinaria-fields" id="campos_otra_maquinaria">
                                <div class="custom-form-group">
                                    <label for="fecha_otra" class="custom-form-label">Fecha:</label>
                                    <input type="date" id="fecha_otra" name="fecha_otra" class="custom-input" required>
                                </div>
                                <div class="custom-form-group">
                                    <label for="horometro_salida" class="custom-form-label">Horómetro o Salida:</label>
                                    <input type="text" id="horometro_salida" name="horometro_salida" class="custom-input" required>
                                </div>
                                <div class="custom-form-group">
                                    <label for="horometro_regreso" class="custom-form-label">Horómetro o Regreso:</label>
                                    <input type="text" id="horometro_regreso" name="horometro_regreso" class="custom-input" required>
                                </div>
                                <div class="custom-form-group">
                                    <label for="horas_trabajadas" class="custom-form-label">Horas Trabajadas:</label>
                                    <input type="text" id="horas_trabajadas" name="horas_trabajadas" class="custom-input" readonly>
                                </div>
                                <div class="custom-form-group">
                                    <label for="obra_otra" class="custom-form-label">Obra:</label>
                                    <input type="text" id="obra_otra" name="obra_otra" class="custom-input" required>
                                </div>
                                <div class="custom-form-group">
                                    <label for="notas" class="custom-form-label">Notas:</label>
                                    <textarea id="notas" name="notas" class="custom-input" rows="4" required></textarea>
                                </div>
                            </div>

                            <button type="submit" class="custom-button">Guardar Registro</button>
                            <button type="button" class="custom-button limpiar-button" onclick="limpiarFormulario('reporte')">Limpiar Formulario</button>
                            <button type="button" class="custom-button home-button" onclick="mostrarInicio()">Página de Inicio</button>
                        </form>
                    </div>
                `;
                // Re-inicializar los listeners y elementos del DOM para el nuevo formulario
                const maquinaSelect = document.getElementById('maquina');
                const camionFields = document.getElementById('campos_camion');
                const otraMaquinariaFields = document.getElementById('campos_otra_maquinaria');
                const horometroSalidaInput = document.getElementById('horometro_salida');
                const horometroRegresoInput = document.getElementById('horometro_regreso');
                const horasTrabajadasInput = document.getElementById('horas_trabajadas');

                maquinaSelect.addEventListener('change', function() {
                    if (this.value === 'camion_azul' || this.value === 'camion_blanco') {
                        camionFields.style.display = 'block';
                        otraMaquinariaFields.style.display = 'none';
                    } else if (this.value) {
                        camionFields.style.display = 'none';
                        otraMaquinariaFields.style.display = 'block';
                    } else {
                        camionFields.style.display = 'none';
                        otraMaquinariaFields.style.display = 'none';
                    }
                });

                if (horometroSalidaInput && horometroRegresoInput && horasTrabajadasInput) {
                    horometroSalidaInput.addEventListener('input', calcularHorasTrabajadas);
                    horometroRegresoInput.addEventListener('input', calcularHorasTrabajadas);
                }

                function calcularHorasTrabajadas() {
                    const salida = parseFloat(horometroSalidaInput.value);
                    const regreso = parseFloat(horometroRegresoInput.value);

                    if (!isNaN(salida) && !isNaN(regreso)) {
                        const horas = regreso - salida;
                        horasTrabajadasInput.value = horas.toFixed(2);
                    } else {
                        horasTrabajadasInput.value = '';
                    }
                }
            }
        }

        // Función para mostrar el menú principal.
        function mostrarInicio() {
            document.getElementById("formulario-container").style.display = "none";
            document.getElementById("menu-principal").style.display = "flex";
        }

        // Función para mostrar el recordatorio
        function mostrarRecordatorio() {
            // Verifica si ya se ha mostrado el recordatorio hoy
            // Obtener la fecha de hoy en formato 'YYYY-MM-DD'
            const today = new Date().toISOString().slice(0, 10);
            const lastShownDate = localStorage.getItem('recordatorioMostradoHoy');

            if (lastShownDate !== today) { // Solo mostrar si no se ha mostrado hoy
                // Crea el elemento del recordatorio
                const recordatorioDiv = document.createElement('div');
                recordatorioDiv.className = 'recordatorio-container';
                recordatorioDiv.textContent = '¡Aún no llenas tu registro de actividades diarias, recuerda que es tu asistencia del día!';

                // Agrega el recordatorio al body
                document.body.appendChild(recordatorioDiv);

                // Guarda la fecha de hoy en localStorage
                localStorage.setItem('recordatorioMostradoHoy', today);

                // Opcional: desaparecer el recordatorio después de un tiempo
                setTimeout(() => {
                    recordatorioDiv.remove();
                }, 10000); // 10 segundos
            }
        }

        // Función para verificar si se debe mostrar el recordatorio (al cargar la página)
        window.onload = function() {
            mostrarRecordatorio();
        };

    </script>
</head>
<body>
    <div id="menu-principal" class="menu-principal">
        <h1 style="font-size: 24px; color: #34495e;">BITÁCORA DE MANTENIMIENTOS</h1>
        <p class="info-empresa">Constructora JESAS, S.A. de C.V.</p>
        <p class="info-empresa">C. Privada Villa Hermosa 110, Del Bosque, 89318 Tampico, Tamps.</p>
        <button onclick="mostrarFormulario('maquinaria')" style="background-color: #b0e0e6; color: #2c3e50;">BITÁCORA DE MAQUINARIA</button>
        <button onclick="mostrarFormulario('vehiculos')" style="background-color: #b0e0e6; color: #2c3e50;">BITÁCORA DE VEHÍCULOS</button>
        <button onclick="mostrarFormulario('reporte')" style="background-color: #ffa500; color: #2c3e50;">REPORTE DE ACTIVIDADES DE MAQUINARIA</button>
    </div>
    <div id="imagen-link-container">
        <a href="https://www.jesas.com.mx/" id="link-empresa" target="_blank">
            <img id="imagen-inferior" src="https://d2sapt5dytmohl.cloudfront.net/images/upload/92505/sml/660f1cdf9c6527.27633487.jpg" alt="Logo de la Empresa">
        </a>
    </div>

    <div id="formulario-container">
    </div>

</body>
</html>
